[TOC]

# Keras

## 1. 简单的说明

下面的内容是对keras.io网站内容的简单整理，只会从中挑选出有价值的内容进行翻译。Docs目录中的文件和Keras官方文档的侧边栏的目录基本保持一致。

## 2. You have just found Keras

Keras是一个高级的神经网络API，它是由Python编写，支持多个后端，包括Tensorflow、CNTK、Theano。开发它就是为了能够快速实验，做好研究的关键就是要保证以最快的速度将想法转换为结果。

Keras能够很好的满足三方面的需求：

- 简单且快速的原型构建；
- 支持CNN和RNN，以及二者之间的结合；
- 无缝的运行在CPU和GPU上；

## 3. Multi-backend Keras and tf.keras

现在，我们建议哪些使用tensorflow作为backend的用户转向使用tensorflow 2.0中的tf.keras。它被更好的维护，也更好的和TF的特征相集成。

Keras 2.2.5是最后的实现2.2.* API的版本，也是支持Tensorflow 1、Theano、CNTK的最后版本。

当前的2.3版本在API上做了大的改动，并添加了对TF 2.0的支持。2.3版本也是最后一个的支持多后端的Keras大版本。多版本的Keras被tf.keras替代。

在multi-backend Keras中的bug将通过小版本更新一直被修复到2020年4月份。

## Guiding principles

- 用户友好
    Keras是为人设计的API，而不是机器。它把用户体验放到首位，通过提供一致性、简单的API，减少了认知负担，也最小化了一般场景下用户需要的操作，同时针对用户错误提供了清晰可行的错误反馈。

- Modularity,模块化
  一个model可以理解为是“a sequence or a graph of standalone、fully configurable modules”。比如一个网络层、cost函数、优化器、初始化schemes、激活函数、正则schemes，这些模块可以被结合构建新的模型。

- Easy extensibility
  可以很容易的作为类或者函数添加新的模块。可以方便地创建新的模块，让Keras适合于高级研究。

- 用Python方式工作
  配置不是独立的文件，而是用Python代码直接配置，更简介、容易调试、扩展。

## Getting started: 20 seconds to Keras

Keras的核心对象是model，用它来组织不同的layer。最简单的model类型是Sequential，是layer的线性栈。如果要使用更为复杂的架构，那么就需要使用Keras的函数API，它允许构建任意结构的图。

下面是Sequential的简单例子：

```python
from keras.models import Sequential

model = Sequential()

# 在模型中添加layer
from keras.layers import Dense

model.add(Dense(units=64, activation='relu', import_dim=100))
model.add(Dense(units=10, activation=softmax))

# 配置学习过程需要的参数
model.compile(
    loss = 'categorical_crossentropy',
    optimizer='sgd',
    metrics=['accuracy']
)

# 开始训练
model.fit(x_train, y_train, epochs=5, batch_size=30)

# 测试集上查看结果
loss_and_metrics = model.evaluate(x_test, y_test, batch_size=128)

# 在新的数据上做预测
classes = model.predict(x_test, batch_size=128)

```
