[TOC]

# MySQL日期字段自动更新

我们设计数据库表时，时常需要添加两个字段：create_time, update_time，用于说明该记录的创建时间和最新修改时间，方便后期分析问题。

但这两个字段如果每次更新都需要用户通过程序自己操作，显然过于繁琐，其实这种需求可以通过字段配置来实现。

## 1. Navicat操作方法

将create_time字段数据类型设置为：datetime或者timestamp，然后默认值设置为“CURRENT_TIMESTAMP”。

将update_time字段数据类型设置为：datetime或者timestamp，然后默认值设置为“CURRENT_TIMESTAMP”，同时勾选：“根据当前时间戳更新”。

## 2. SQL语句操作方法

```sql
create table `table_name` (
    `create_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) COMMENT '记录创建时间',
    `update_time` timestamp(0) NULL DEFAULT CURRENT_TIMESTAMP(0) ON UPDATE CURRENT_TIMESTAMP(0) COMMENT '记录最近更新时间'
)
```
