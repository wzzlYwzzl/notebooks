[TOC]

# a=a+b与a+=b

先说结论：这两种写法是**不等价**的。

## 1. 一个简单例子

```python
>>> a = [1,2,3]
>>> b = (4,)


>>> a += b
>>> a
[1, 2, 3, 4]


>>> a = a+b
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: can only concatenate list (not "tuple") to list
```

我们发现了不一样，一种能够正常运行，一种抛异常。接下来我们分析原因。

## 2. \_\_add\_\_ 和 \_\_radd\_\_ 和 \_\_iadd\_\_

1. \_\_add\_\_和\_\_radd\_\_
   是“左加”，比如a+b，如果a对象有\_\_add\_\_这个方法，那么就会调用这个方法。如果没有，就会在b中查找\_\_radd\_\_方法，这个方法称为“右加”。

2. \_\_iadd\_\_
   这个方法是“+=”运算符使用的。a += b，会优先从a中查找\_\_iadd\_\_这个方法，如果这个方法不存在，那么就调用a的\_\_add\_\_方法。

   注意，可变对象有这个方法，不可变对象没有这个方法。为什么呢？因为这个方法的功能是将后面的对象添加到前面的对象上，返回返回前面的对象。
