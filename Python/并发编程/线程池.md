[TOC]

# Python线程池

## Python3自带模块 concurrent.futures

```python
from concurrent.futures import ThreadPoolExecutor
import time

def sayhello(a):
    print("hello: "+a)
    time.sleep(2)

def main():
    seed=["a","b","c"]
    start1=time.time()
    for each in seed:
        sayhello(each)
    end1=time.time()
    print("time1: "+str(end1-start1))


    start2=time.time()
    with ThreadPoolExecutor(3) as executor:
        for each in seed: # submit的使用方式
            executor.submit(sayhello,each)
    end2=time.time()
    print("time2: "+str(end2-start2))


    start3=time.time()
    with ThreadPoolExecutor(3) as executor1:
        executor1.map(sayhello,seed) # map的使用方式
    end3=time.time()
    print("time3: "+str(end3-start3))

if __name__ == ‘__main__‘:
    main()
```

从上面的代码举例我们可以看出，使用concurrent.futures的ThreadPoolExecutor有两种方式：submit和map，submit每次提交一个函数和对应的一个参数，map提交同一个函数和一个参数的iterator。

map可以保证输出的顺序，submit不能保证。

## 使用multiprocessing

multiprocessing在python3中已经默认安装了。

[官方文档](https://docs.python.org/3.7/library/multiprocessing.html)
